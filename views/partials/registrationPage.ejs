<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="/styles/styleRegistration.css">

    <title>מקום למלא</title>
    <meta charset="utf-8">


</head>

<body>

    <a href="page.html" target="_parent" class="rigth"><img src="Home-512.png" title="go to HomePage" width=60
            height=50></a>

    <form id="myForm">
        <h2> דף הרשמה</h2>
        <br>
        <div id="personal">
            <h6>
                פרטים אישיים
            </h6>
            <br>
            <div id="first" class="bor"> <input id="firstName" type="text" name="firstName" required>שם פרטי:</div>
            <br>
            <div id="last" class="bor"> <input id="lastName" type="text" name="lastName">שם משפחה:</div>
            <br>
            <div class="bor"> <input id="adress" type="text" name="adress">עיר מגורים:</div>
            <br>
            <br>

            <div class="bor">
                <input list="gender">

                <datalist id="gender">
                    <option value=" זכר">
                    <option value="נקבה">
                    <option value="השאר ריק">
                </datalist> מין:
            </div>

            <br>
            <div class="bor"> <input type="text" name="password" id="password" required> הגדר סיסמא:</div>
            <br>
            <div class="bor"> <input type="password" name="סיסמא" id="check" required onclick="show()"> אשר סיסמא:
            </div>
            <br>
            <span id="checkP" class="hide">בודק סיסמא...</span>
            <br>

        </div>
        <div>
            <h6>
                פרטי התקשרות
            </h6>
            <br>
            <div class="bor"> <input id="phoneNumber" type="tel" name="tel" placeholder="הכנס את מספר הטלפון שלך"
                    required onclick="checkPass()">טלפון:
                <br></div>
            <br>
            <div class="bor"> <input id="email" type="email" name="email" placeholder="הכנס את כתובת האי-מייל שלך"
                    required>אי-מייל:<br></div>
            <br>
            <br>

        </div>
        <div>
            <h6>
                לימודים וניסיון </h6>
            <br>

            <br>
            <div class="bor"> <input id="profession" type="text" name="profession">מקצוע:<br></div>


            <br>
            <div class="bor"> <input id="specialization" type="text" name="profession">התמחות:<br></div>

            <br>
            <div class="bor"> <input id="diploma" type="text" name="profession">תעודות:<br></div>

            <br>
            <!-- <div class="bor"> <input id="experience" type="text" name="profession">ניסיון קודם:<br></div> -->

            <br>
            <div class="bor"> <input id="recommendations" type="text" name="profession">המלצות:<br></div>
        </div>
        <div>
            <h6>
                זמינות </h6>
            <br>
            <!-- הימים שבהם אני פנוי:
            <br>
            <div>

                <table class="bor">
                    <tr id="days">
                        <td> <input type="checkbox" id="sun"></td>
                        <td>ראשון</td>
                    </tr>
                    <tr id="days">
                        <td> <input type="checkbox" id="mon" onclick="checkbox()"></td>
                        <td>שני</td>
                    </tr>
                    <tr id="days">
                        <td> <input type="checkbox" id="tues" onclick="checkbox()"></td>
                        <td>שלישי</td>
                    </tr>
                    <tr id="days">
                        <td> <input type="checkbox" id="wednes" onclick="checkbox()"></td>
                        <td>רביעי</td>
                    </tr>
                    <tr id="days">
                        <td> <input type="checkbox" id="thurs" onclick="checkbox()"></td>
                        <td>חמישי</td>
                    </tr>
                    <tr id="days">
                        <td> <input type="checkbox" id="fri" onclick="checkbox()"></td>
                        <td>שישי</td>
                    </tr>


                </table> -->
        </div>
        <br>
        <br>
        <div class="bor"> <input type="text" name="profession">תאריך עדכון:<br></div>
        </div>
        <button type="submit" id="submitBtn"> הרשמה ועדכון </button>
    </form>

    <script>
        function checkPass() {
            let personal = document.getElementById("checkP")

            if (password.value === check.value) {
                personal.innerHTML = " ";
                personal.append("הסיסמאות תואמות")
            } else {
                personal.innerHTML = " ";
                personal.append("הסיסמאות אינן תואמות")
            }
        };

        function show() {
            checkP.classList.remove("hide")
        }
    </script>
    <!-- <script>
        // HTMLJavaScript
        $("#example-basic").steps({
            headerTag: "h3",
            bodyTag: "section",
            transitionEffect: "slideLeft",
            autoFocus: true
        });
    </script> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    <script>
        // listen to click event of the submit button
        $('#submitBtn').click(function (e) {
            // make sure the form is not submitted
            e.preventDefault();
            // run the form validations
            document.getElementById('myForm').checkValidity();
            // check if the form is valid
            if (document.getElementById('myForm').reportValidity()) {
                // form is valid, create a post request
                $.ajax({
                    type: "post",
                    url: "/registration/register",
                    // the user data 
                    data: {
                        firstName: $('#firstName').val(),
                        lastName: $('#lastName').val(),
                        adress: $('#adress').val(),
                        gender: $('#gender').val(),
                        password: $('#password').val(),
                        phoneNumber: $('#phoneNumber').val(),
                        email: $('#email').val(),
                        profession: $('#profession').val(),
                        job: $('#job').val(),
                        specialization: $('#specialization').val(),
                        diploma: $('#diploma').val(),
                        experience: $('#experience').val(),
                        recommendations: $('#recommendations').val(),
                        days: $('#days').val()

                    },
                    complete: // this function will run if the request is successful
                        function (xhr, status) {
                            // check if there is an error
                            if (status === 'error')
                                alert(xhr.responseText);
                            else
                                res.send('ok');

                        }
                });
            }
        });
    </script>

    </div>
</body>

</html>